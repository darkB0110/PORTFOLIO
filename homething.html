<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IT Expert Portfolio &amp; Business Platform</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            transition: all 0.3s ease;
            height: 100%;
            overflow-x: hidden;
        }

        /* Theme Variables */
        :root {
            --primary-color: #1e40af;
            --secondary-color: #3b82f6;
            --accent-color: #10b981;
            --background-color: #f8fafc;
            --surface-color: #ffffff;
            --text-color: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --primary-color: #1e3a8a;
            --secondary-color: #2563eb;
            --accent-color: #059669;
            --background-color: #0f172a;
            --surface-color: #1e293b;
            --text-color: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        [data-theme="dark"] .navbar {
            background: rgba(15, 23, 42, 0.95);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 30px;
        }

        .nav-link {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--primary-color);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--border-color);
            border-radius: 50px;
            padding: 8px 16px;
            cursor: pointer;
            color: var(--text-color);
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .login-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .login-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .hero-text h1 {
            font-size: 3.5rem;
            font-weight: 800;
            color: white;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-text .tagline {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 40px;
        }

        .stat-item {
            text-align: center;
            color: white;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .hero-visual {
            position: relative;
        }

        .hero-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            color: white;
            transform: rotate(-5deg);
            transition: transform 0.3s ease;
        }

        .hero-card:hover {
            transform: rotate(0deg) scale(1.05);
        }

        /* Main Content */
        .main-content {
            margin-top: 70px;
        }

        .section {
            padding: 80px 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 60px;
            color: var(--text-color);
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .service-card {
            background: var(--surface-color);
            border-radius: 15px;
            padding: 40px 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .service-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        .service-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .service-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Projects Grid */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .project-card {
            background: var(--surface-color);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .project-image {
            height: 200px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }

        .project-content {
            padding: 25px;
        }

        .project-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .project-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .project-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tech-tag {
            background: var(--primary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .project-status {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .status-completed {
            background: #d1fae5;
            color: #065f46;
        }

        .status-ongoing {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-planning {
            background: #fef3c7;
            color: #92400e;
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            padding: 20px 0;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .dashboard-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
        }

        .dashboard-actions {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--surface-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--surface-color);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .stat-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stat-card-title {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .stat-card-icon {
            font-size: 1.5rem;
        }

        .stat-card-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
        }

        .stat-card-change {
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .change-positive {
            color: var(--accent-color);
        }

        .change-negative {
            color: #ef4444;
        }

        /* Data Table */
        .data-table {
            background: var(--surface-color);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .table-header {
            background: var(--background-color);
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .table-filters {
            display: flex;
            gap: 10px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: var(--surface-color);
            color: var(--text-color);
        }

        .table-content {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--background-color);
            font-weight: 600;
            color: var(--text-color);
        }

        td {
            color: var(--text-secondary);
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-active {
            background: #d1fae5;
            color: #065f46;
        }

        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-completed {
            background: #dbeafe;
            color: #1e40af;
        }

        .priority-high {
            background: #fee2e2;
            color: #991b1b;
        }

        .priority-medium {
            background: #fef3c7;
            color: #92400e;
        }

        .priority-low {
            background: #d1fae5;
            color: #065f46;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--surface-color);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 5px;
        }

        .close-btn:hover {
            color: var(--text-color);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--surface-color);
            color: var(--text-color);
            font-size: 14px;
            box-sizing: border-box;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* Login Form */
        .login-form {
            max-width: 400px;
            margin: 0 auto;
            padding: 40px;
            background: var(--surface-color);
            border-radius: 15px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }

        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .login-subtitle {
            color: var(--text-secondary);
        }

        .login-tabs {
            display: flex;
            margin-bottom: 30px;
            background: var(--background-color);
            border-radius: 8px;
            padding: 4px;
        }

        .login-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
        }

        .login-tab.active {
            background: var(--primary-color);
            color: white;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-color);
            transition: width 0.3s ease;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .action-btn.edit {
            background: var(--primary-color);
            color: white;
        }

        .action-btn.delete {
            background: #ef4444;
            color: white;
        }

        .action-btn.view {
            background: var(--accent-color);
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-text h1 {
                font-size: 2.5rem;
            }

            .services-grid, .projects-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .dashboard-header {
                flex-direction: column;
                align-items: stretch;
            }

            .dashboard-actions {
                justify-content: center;
            }
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-up {
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Notification Toast */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px 20px;
            box-shadow: var(--shadow-lg);
            z-index: 3000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-left: 4px solid var(--accent-color);
        }

        .toast.error {
            border-left: 4px solid #ef4444;
        }

        .toast.warning {
            border-left: 4px solid #f59e0b;
        }

        /* Empty States */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .empty-description {
            margin-bottom: 30px;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Navigation -->
  <nav class="navbar">
   <div class="nav-container"><a href="#" class="logo" id="companyName">TechSolutions Pro</a>
    <ul class="nav-menu">
     <li><a href="#" class="nav-link active" onclick="showSection('home')">Home</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('services')">Services</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('projects')">Projects</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('order')">Order</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('contact')">Contact</a></li>
    </ul>
    <div class="nav-actions"><button class="theme-toggle" onclick="toggleTheme()"> <span id="themeIcon">🌙</span> <span id="themeText">Dark</span> </button> <button class="login-btn" onclick="showLogin()">Login</button>
    </div>
   </div>
  </nav><!-- Main Content -->
  <main class="main-content"><!-- Home Section -->
   <section id="homeSection" class="section active"><!-- Hero -->
    <div class="hero">
     <div class="hero-bg"></div>
     <div class="hero-content">
      <div class="hero-text">
       <h1 id="expertName">John Smith</h1>
       <p class="tagline" id="heroTagline">Transforming businesses through innovative IT solutions</p>
       <p id="expertTitle">Senior IT Consultant &amp; Business Analyst</p>
       <div class="hero-stats">
        <div class="stat-item"><span class="stat-number" id="projectsCompleted">150+</span> <span class="stat-label">Projects Completed</span>
        </div>
        <div class="stat-item"><span class="stat-number" id="clientsSatisfied">98%</span> <span class="stat-label">Client Satisfaction</span>
        </div>
        <div class="stat-item"><span class="stat-number" id="yearsExperience">8+</span> <span class="stat-label">Years Experience</span>
        </div>
       </div>
      </div>
      <div class="hero-visual">
       <div class="hero-card">
        <h3>💼 Available for Projects</h3>
        <p>Ready to tackle your next IT challenge with cutting-edge solutions and proven expertise.</p><button class="btn btn-primary" onclick="showSection('order')">Start Project</button>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Services Section -->
   <section id="servicesSection" class="section" style="display: none;">
    <div class="container">
     <h2 class="section-title">My Services</h2>
     <div class="services-grid">
      <div class="service-card"><span class="service-icon">💻</span>
       <h3 class="service-title">IT Consulting</h3>
       <p class="service-description">Strategic IT planning, system architecture design, and technology roadmap development for businesses of all sizes.</p>
      </div>
      <div class="service-card"><span class="service-icon">🤖</span>
       <h3 class="service-title">Virtual Assistant</h3>
       <p class="service-description">Automated workflow solutions, chatbot development, and AI-powered business process optimization.</p>
      </div>
      <div class="service-card"><span class="service-icon">📞</span>
       <h3 class="service-title">Customer Care</h3>
       <p class="service-description">Customer support system design, helpdesk implementation, and customer experience optimization.</p>
      </div>
      <div class="service-card"><span class="service-icon">📊</span>
       <h3 class="service-title">Business Analysis</h3>
       <p class="service-description">Requirements gathering, process analysis, data modeling, and business intelligence solutions.</p>
      </div>
      <div class="service-card"><span class="service-icon">🔧</span>
       <h3 class="service-title">System Integration</h3>
       <p class="service-description">API development, third-party integrations, and seamless system connectivity solutions.</p>
      </div>
      <div class="service-card"><span class="service-icon">🛡️</span>
       <h3 class="service-title">Security Audit</h3>
       <p class="service-description">Comprehensive security assessments, vulnerability testing, and cybersecurity implementation.</p>
      </div>
     </div>
    </div>
   </section><!-- Projects Section -->
   <section id="projectsSection" class="section" style="display: none;">
    <div class="container">
     <h2 class="section-title">Featured Projects</h2>
     <div class="projects-grid" id="projectsGrid"><!-- Projects will be loaded here -->
     </div>
    </div>
   </section><!-- Order Section -->
   <section id="orderSection" class="section" style="display: none;">
    <div class="container">
     <h2 class="section-title">Request a Service</h2>
     <div class="login-form">
      <form id="orderForm">
       <div class="form-group"><label class="form-label">Service Type</label> <select class="form-select" id="serviceType" required> <option value="">Select a service</option> <option value="it-consulting">IT Consulting</option> <option value="virtual-assistant">Virtual Assistant</option> <option value="customer-care">Customer Care</option> <option value="business-analysis">Business Analysis</option> <option value="system-integration">System Integration</option> <option value="security-audit">Security Audit</option> </select>
       </div>
       <div class="form-row">
        <div class="form-group"><label class="form-label">Your Name</label> <input type="text" class="form-input" id="clientName" required>
        </div>
        <div class="form-group"><label class="form-label">Email</label> <input type="email" class="form-input" id="clientEmail" required>
        </div>
       </div>
       <div class="form-group"><label class="form-label">Project Title</label> <input type="text" class="form-input" id="projectTitle" required>
       </div>
       <div class="form-group"><label class="form-label">Project Description</label> <textarea class="form-textarea" id="projectDescription" placeholder="Describe your project requirements in detail..." required></textarea>
       </div>
       <div class="form-row">
        <div class="form-group"><label class="form-label">Budget Range</label> <select class="form-select" id="budgetRange" required> <option value="">Select budget</option> <option value="500-1000">$500 - $1,000</option> <option value="1000-2500">$1,000 - $2,500</option> <option value="2500-5000">$2,500 - $5,000</option> <option value="5000-10000">$5,000 - $10,000</option> <option value="10000+">$10,000+</option> </select>
        </div>
        <div class="form-group"><label class="form-label">Deadline</label> <input type="date" class="form-input" id="projectDeadline" required>
        </div>
       </div>
       <div class="form-group"><label class="form-label">Priority</label> <select class="form-select" id="projectPriority" required> <option value="low">Low</option> <option value="medium" selected>Medium</option> <option value="high">High</option> </select>
       </div><button type="submit" class="btn btn-primary" style="width: 100%;"> Submit Request </button>
      </form>
     </div>
    </div>
   </section><!-- Contact Section -->
   <section id="contactSection" class="section" style="display: none;">
    <div class="container">
     <h2 class="section-title">Get In Touch</h2>
     <div style="max-width: 600px; margin: 0 auto; text-align: center;">
      <p style="font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 40px;">Ready to start your next project? Let's discuss how I can help transform your business.</p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 40px;">
       <div class="service-card"><span class="service-icon">📧</span>
        <h3 class="service-title">Email</h3>
        <p class="service-description" id="contactEmail">contact@techsolutions.com</p>
       </div>
       <div class="service-card"><span class="service-icon">📱</span>
        <h3 class="service-title">Phone</h3>
        <p class="service-description" id="contactPhone">+1 (555) 123-4567</p>
       </div>
      </div><button class="btn btn-primary" onclick="showSection('order')">Start a Project</button>
     </div>
    </div>
   </section><!-- Client Dashboard -->
   <section id="clientDashboard" class="dashboard">
    <div class="container">
     <div class="dashboard-header">
      <h2 class="dashboard-title">Client Dashboard</h2>
      <div class="dashboard-actions"><button class="btn btn-primary" onclick="showModal('newTicketModal')">New Ticket</button> <button class="btn btn-secondary" onclick="logout()">Logout</button>
      </div>
     </div>
     <div class="stats-grid">
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Active Projects</span> <span class="stat-card-icon">📋</span>
       </div>
       <div class="stat-card-value" id="clientActiveProjects">
        3
       </div>
       <div class="stat-card-change change-positive">
        +1 this month
       </div>
      </div>
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Total Spent</span> <span class="stat-card-icon">💰</span>
       </div>
       <div class="stat-card-value" id="clientTotalSpent">
        $12,450
       </div>
       <div class="stat-card-change change-positive">
        +$2,100 this month
       </div>
      </div>
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Open Tickets</span> <span class="stat-card-icon">🎫</span>
       </div>
       <div class="stat-card-value" id="clientOpenTickets">
        2
       </div>
       <div class="stat-card-change change-negative">
        -1 this week
       </div>
      </div>
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Satisfaction</span> <span class="stat-card-icon">⭐</span>
       </div>
       <div class="stat-card-value" id="clientSatisfaction">
        4.9
       </div>
       <div class="stat-card-change change-positive">
        Excellent
       </div>
      </div>
     </div>
     <div class="data-table">
      <div class="table-header">
       <h3 class="table-title">My Projects</h3>
       <div class="table-filters"><select class="filter-select" onchange="filterClientProjects(this.value)"> <option value="all">All Status</option> <option value="active">Active</option> <option value="completed">Completed</option> <option value="pending">Pending</option> </select>
       </div>
      </div>
      <div class="table-content">
       <table>
        <thead>
         <tr>
          <th>Project</th>
          <th>Status</th>
          <th>Progress</th>
          <th>Budget</th>
          <th>Deadline</th>
          <th>Actions</th>
         </tr>
        </thead>
        <tbody id="clientProjectsTable"><!-- Client projects will be loaded here -->
        </tbody>
       </table>
      </div>
     </div>
    </div>
   </section><!-- Admin Dashboard -->
   <section id="adminDashboard" class="dashboard">
    <div class="container">
     <div class="dashboard-header">
      <h2 class="dashboard-title">Admin Dashboard</h2>
      <div class="dashboard-actions"><button class="btn btn-primary" onclick="showModal('newProjectModal')">New Project</button> <button class="btn btn-secondary" onclick="generateReport()">Generate Report</button> <button class="btn btn-secondary" onclick="logout()">Logout</button>
      </div>
     </div>
     <div class="stats-grid">
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Total Projects</span> <span class="stat-card-icon">📊</span>
       </div>
       <div class="stat-card-value" id="adminTotalProjects">
        24
       </div>
       <div class="stat-card-change change-positive">
        +3 this month
       </div>
      </div>
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Revenue</span> <span class="stat-card-icon">💵</span>
       </div>
       <div class="stat-card-value" id="adminRevenue">
        $45,230
       </div>
       <div class="stat-card-change change-positive">
        +15% this month
       </div>
      </div>
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Active Clients</span> <span class="stat-card-icon">👥</span>
       </div>
       <div class="stat-card-value" id="adminActiveClients">
        18
       </div>
       <div class="stat-card-change change-positive">
        +2 this week
       </div>
      </div>
      <div class="stat-card">
       <div class="stat-card-header"><span class="stat-card-title">Pending Tasks</span> <span class="stat-card-icon">⏰</span>
       </div>
       <div class="stat-card-value" id="adminPendingTasks">
        7
       </div>
       <div class="stat-card-change change-negative">
        Due this week
       </div>
      </div>
     </div>
     <div class="data-table">
      <div class="table-header">
       <h3 class="table-title">All Projects</h3>
       <div class="table-filters"><select class="filter-select" onchange="filterAdminProjects(this.value)"> <option value="all">All Status</option> <option value="active">Active</option> <option value="completed">Completed</option> <option value="pending">Pending</option> </select> <select class="filter-select" onchange="filterAdminPriority(this.value)"> <option value="all">All Priority</option> <option value="high">High</option> <option value="medium">Medium</option> <option value="low">Low</option> </select>
       </div>
      </div>
      <div class="table-content">
       <table>
        <thead>
         <tr>
          <th>Project</th>
          <th>Client</th>
          <th>Status</th>
          <th>Priority</th>
          <th>Budget</th>
          <th>Progress</th>
          <th>Actions</th>
         </tr>
        </thead>
        <tbody id="adminProjectsTable"><!-- Admin projects will be loaded here -->
        </tbody>
       </table>
      </div>
     </div>
    </div>
   </section>
  </main><!-- Login Modal -->
  <div id="loginModal" class="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h2 class="modal-title">Login</h2><button class="close-btn" onclick="closeModal('loginModal')">×</button>
    </div>
    <div class="login-tabs">
     <div class="login-tab active" onclick="switchLoginTab('client')">
      Client
     </div>
     <div class="login-tab" onclick="switchLoginTab('admin')">
      Admin
     </div>
    </div>
    <form id="loginForm">
     <div class="form-group"><label class="form-label">Email</label> <input type="email" class="form-input" id="loginEmail" required>
     </div>
     <div class="form-group"><label class="form-label">Password</label> <input type="password" class="form-input" id="loginPassword" required>
     </div><button type="submit" class="btn btn-primary" style="width: 100%;"> Login as <span id="loginType">Client</span> </button>
    </form>
    <div style="text-align: center; margin-top: 20px; color: var(--text-secondary); font-size: 0.9rem;">
     <p><strong>Demo Credentials:</strong></p>
     <p>Client: client@demo.com / demo123</p>
     <p>Admin: admin@demo.com / admin123</p>
    </div>
   </div>
  </div><!-- New Ticket Modal -->
  <div id="newTicketModal" class="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h2 class="modal-title">Create New Ticket</h2><button class="close-btn" onclick="closeModal('newTicketModal')">×</button>
    </div>
    <form id="ticketForm">
     <div class="form-group"><label class="form-label">Subject</label> <input type="text" class="form-input" id="ticketSubject" required>
     </div>
     <div class="form-group"><label class="form-label">Priority</label> <select class="form-select" id="ticketPriority" required> <option value="low">Low</option> <option value="medium" selected>Medium</option> <option value="high">High</option> </select>
     </div>
     <div class="form-group"><label class="form-label">Description</label> <textarea class="form-textarea" id="ticketDescription" required></textarea>
     </div><button type="submit" class="btn btn-primary" style="width: 100%;"> Create Ticket </button>
    </form>
   </div>
  </div><!-- New Project Modal -->
  <div id="newProjectModal" class="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h2 class="modal-title">Create New Project</h2><button class="close-btn" onclick="closeModal('newProjectModal')">×</button>
    </div>
    <form id="projectForm">
     <div class="form-group"><label class="form-label">Project Title</label> <input type="text" class="form-input" id="newProjectTitle" required>
     </div>
     <div class="form-row">
      <div class="form-group"><label class="form-label">Client Name</label> <input type="text" class="form-input" id="newProjectClient" required>
      </div>
      <div class="form-group"><label class="form-label">Client Email</label> <input type="email" class="form-input" id="newProjectEmail" required>
      </div>
     </div>
     <div class="form-group"><label class="form-label">Description</label> <textarea class="form-textarea" id="newProjectDescription" required></textarea>
     </div>
     <div class="form-row">
      <div class="form-group"><label class="form-label">Budget</label> <input type="number" class="form-input" id="newProjectBudget" required>
      </div>
      <div class="form-group"><label class="form-label">Deadline</label> <input type="date" class="form-input" id="newProjectDeadline" required>
      </div>
     </div>
     <div class="form-row">
      <div class="form-group"><label class="form-label">Priority</label> <select class="form-select" id="newProjectPriority" required> <option value="low">Low</option> <option value="medium" selected>Medium</option> <option value="high">High</option> </select>
      </div>
      <div class="form-group"><label class="form-label">Category</label> <select class="form-select" id="newProjectCategory" required> <option value="it-consulting">IT Consulting</option> <option value="virtual-assistant">Virtual Assistant</option> <option value="customer-care">Customer Care</option> <option value="business-analysis">Business Analysis</option> </select>
      </div>
     </div><button type="submit" class="btn btn-primary" style="width: 100%;"> Create Project </button>
    </form>
   </div>
  </div>
  <script>
        // Global variables
        let currentUser = null;
        let currentUserType = null;
        let currentTheme = 'light';
        let currentLoginTab = 'client';
        let allProjects = [];
        let allTickets = [];

        // Default configuration
        const defaultConfig = {
            expert_name: "John Smith",
            expert_title: "Senior IT Consultant & Business Analyst",
            company_name: "TechSolutions Pro",
            hero_tagline: "Transforming businesses through innovative IT solutions",
            contact_email: "contact@techsolutions.com",
            contact_phone: "+1 (555) 123-4567",
            primary_color: "#1e40af",
            secondary_color: "#3b82f6",
            accent_color: "#10b981",
            background_color: "#f8fafc",
            surface_color: "#ffffff"
        };

        // Sample projects data
        const sampleProjects = [
            {
                id: "proj_001",
                title: "E-commerce Platform Redesign",
                description: "Complete overhaul of existing e-commerce platform with modern UI/UX",
                client_name: "TechCorp Inc.",
                client_email: "client@techcorp.com",
                status: "active",
                priority: "high",
                budget: 15000,
                progress: 75,
                deadline: "2024-03-15",
                category: "it-consulting",
                created_at: new Date().toISOString(),
                billing_status: "partial",
                amount_paid: 7500,
                total_amount: 15000
            },
            {
                id: "proj_002",
                title: "Customer Support Automation",
                description: "AI-powered chatbot and automated ticket routing system",
                client_name: "ServicePro LLC",
                client_email: "admin@servicepro.com",
                status: "completed",
                priority: "medium",
                budget: 8500,
                progress: 100,
                deadline: "2024-02-28",
                category: "virtual-assistant",
                created_at: new Date().toISOString(),
                billing_status: "paid",
                amount_paid: 8500,
                total_amount: 8500
            },
            {
                id: "proj_003",
                title: "Business Process Analysis",
                description: "Comprehensive analysis of current business processes and optimization recommendations",
                client_name: "Growth Dynamics",
                client_email: "contact@growthdynamics.com",
                status: "pending",
                priority: "low",
                budget: 5000,
                progress: 25,
                deadline: "2024-04-10",
                category: "business-analysis",
                created_at: new Date().toISOString(),
                billing_status: "pending",
                amount_paid: 0,
                total_amount: 5000
            }
        ];

        // Data handler for SDK
        const dataHandler = {
            onDataChanged(data) {
                allProjects = data || [];
                updateDashboards();
                renderProjects();
            }
        };

        /**
         * Initialize the application
         */
        async function initializeApp() {
            try {
                // Initialize Element SDK
                if (window.elementSdk) {
                    await window.elementSdk.init({
                        defaultConfig,
                        onConfigChange: async (config) => {
                            updateUIFromConfig(config);
                        },
                        mapToCapabilities: (config) => ({
                            recolorables: [
                                {
                                    get: () => config.primary_color || defaultConfig.primary_color,
                                    set: (value) => {
                                        config.primary_color = value;
                                        window.elementSdk.setConfig({ primary_color: value });
                                    }
                                },
                                {
                                    get: () => config.secondary_color || defaultConfig.secondary_color,
                                    set: (value) => {
                                        config.secondary_color = value;
                                        window.elementSdk.setConfig({ secondary_color: value });
                                    }
                                },
                                {
                                    get: () => config.accent_color || defaultConfig.accent_color,
                                    set: (value) => {
                                        config.accent_color = value;
                                        window.elementSdk.setConfig({ accent_color: value });
                                    }
                                },
                                {
                                    get: () => config.background_color || defaultConfig.background_color,
                                    set: (value) => {
                                        config.background_color = value;
                                        window.elementSdk.setConfig({ background_color: value });
                                    }
                                },
                                {
                                    get: () => config.surface_color || defaultConfig.surface_color,
                                    set: (value) => {
                                        config.surface_color = value;
                                        window.elementSdk.setConfig({ surface_color: value });
                                    }
                                }
                            ],
                            borderables: [],
                            fontEditable: undefined,
                            fontSizeable: undefined
                        }),
                        mapToEditPanelValues: (config) => new Map([
                            ["expert_name", config.expert_name || defaultConfig.expert_name],
                            ["expert_title", config.expert_title || defaultConfig.expert_title],
                            ["company_name", config.company_name || defaultConfig.company_name],
                            ["hero_tagline", config.hero_tagline || defaultConfig.hero_tagline],
                            ["contact_email", config.contact_email || defaultConfig.contact_email],
                            ["contact_phone", config.contact_phone || defaultConfig.contact_phone]
                        ])
                    });
                }

                // Initialize Data SDK
                if (window.dataSdk) {
                    const result = await window.dataSdk.init(dataHandler);
                    if (!result.isOk) {
                        console.error('Failed to initialize data SDK:', result.error);
                        // Load sample data if SDK fails
                        allProjects = sampleProjects;
                        updateDashboards();
                        renderProjects();
                    }
                }

                // Set up event listeners
                setupEventListeners();
                
                // Load initial data
                renderProjects();
                
                console.log('IT Expert Portfolio Platform initialized successfully');
            } catch (error) {
                console.error('Failed to initialize app:', error);
                // Fallback to sample data
                allProjects = sampleProjects;
                updateDashboards();
                renderProjects();
            }
        }

        /**
         * Update UI based on config changes
         */
        function updateUIFromConfig(config) {
            // Update text content
            const elements = {
                expertName: config.expert_name || defaultConfig.expert_name,
                expertTitle: config.expert_title || defaultConfig.expert_title,
                companyName: config.company_name || defaultConfig.company_name,
                heroTagline: config.hero_tagline || defaultConfig.hero_tagline,
                contactEmail: config.contact_email || defaultConfig.contact_email,
                contactPhone: config.contact_phone || defaultConfig.contact_phone
            };

            Object.entries(elements).forEach(([id, value]) => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = value;
                }
            });

            // Update colors
            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const accentColor = config.accent_color || defaultConfig.accent_color;
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;

            // Apply colors to CSS variables
            document.documentElement.style.setProperty('--primary-color', primaryColor);
            document.documentElement.style.setProperty('--secondary-color', secondaryColor);
            document.documentElement.style.setProperty('--accent-color', accentColor);
            document.documentElement.style.setProperty('--background-color', backgroundColor);
            document.documentElement.style.setProperty('--surface-color', surfaceColor);
        }

        /**
         * Set up event listeners
         */
        function setupEventListeners() {
            // Order form submission
            document.getElementById('orderForm').addEventListener('submit', handleOrderSubmission);
            
            // Login form submission
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // Ticket form submission
            document.getElementById('ticketForm').addEventListener('submit', handleTicketSubmission);
            
            // Project form submission
            document.getElementById('projectForm').addEventListener('submit', handleProjectSubmission);
            
            // Close modals on outside click
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal.id);
                    }
                });
            });
        }

        /**
         * Show specific section
         */
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section, .dashboard').forEach(section => {
                section.style.display = 'none';
                section.classList.remove('active');
            });
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected section
            if (sectionName === 'home') {
                document.getElementById('homeSection').style.display = 'block';
                document.getElementById('homeSection').classList.add('active');
            } else if (sectionName === 'services') {
                document.getElementById('servicesSection').style.display = 'block';
            } else if (sectionName === 'projects') {
                document.getElementById('projectsSection').style.display = 'block';
            } else if (sectionName === 'order') {
                document.getElementById('orderSection').style.display = 'block';
            } else if (sectionName === 'contact') {
                document.getElementById('contactSection').style.display = 'block';
            }
            
            // Update active nav link
            const activeLink = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        /**
         * Toggle theme
         */
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (currentTheme === 'dark') {
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light';
            } else {
                themeIcon.textContent = '🌙';
                themeText.textContent = 'Dark';
            }
        }

        /**
         * Show login modal
         */
        function showLogin() {
            showModal('loginModal');
        }

        /**
         * Show modal
         */
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        /**
         * Close modal
         */
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = '';
        }

        /**
         * Switch login tab
         */
        function switchLoginTab(type) {
            currentLoginTab = type;
            
            // Update tab appearance
            document.querySelectorAll('.login-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update login type text
            document.getElementById('loginType').textContent = type.charAt(0).toUpperCase() + type.slice(1);
        }

        /**
         * Handle login
         */
        async function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Demo authentication
            if ((currentLoginTab === 'client' && email === 'client@demo.com' && password === 'demo123') ||
                (currentLoginTab === 'admin' && email === 'admin@demo.com' && password === 'admin123')) {
                
                currentUser = email;
                currentUserType = currentLoginTab;
                
                // Hide all sections
                document.querySelectorAll('.section').forEach(section => {
                    section.style.display = 'none';
                });
                
                // Show appropriate dashboard
                if (currentUserType === 'client') {
                    document.getElementById('clientDashboard').classList.add('active');
                } else {
                    document.getElementById('adminDashboard').classList.add('active');
                }
                
                closeModal('loginModal');
                showToast('Login successful!', 'success');
                updateDashboards();
            } else {
                showToast('Invalid credentials. Please use demo credentials.', 'error');
            }
        }

        /**
         * Logout
         */
        function logout() {
            currentUser = null;
            currentUserType = null;
            
            // Hide dashboards
            document.querySelectorAll('.dashboard').forEach(dashboard => {
                dashboard.classList.remove('active');
            });
            
            // Show home section
            showSection('home');
            showToast('Logged out successfully!', 'success');
        }

        /**
         * Handle order submission
         */
        async function handleOrderSubmission(e) {
            e.preventDefault();
            
            const formData = {
                id: generateId(),
                type: 'project',
                title: document.getElementById('projectTitle').value,
                description: document.getElementById('projectDescription').value,
                client_name: document.getElementById('clientName').value,
                client_email: document.getElementById('clientEmail').value,
                category: document.getElementById('serviceType').value,
                budget: parseBudgetRange(document.getElementById('budgetRange').value),
                deadline: document.getElementById('projectDeadline').value,
                priority: document.getElementById('projectPriority').value,
                status: 'pending',
                progress: 0,
                created_at: new Date().toISOString(),
                billing_status: 'pending',
                amount_paid: 0,
                total_amount: parseBudgetRange(document.getElementById('budgetRange').value),
                assigned_to: 'admin'
            };

            try {
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(formData);
                    if (result.isOk) {
                        showToast('Project request submitted successfully!', 'success');
                        document.getElementById('orderForm').reset();
                    } else {
                        throw new Error(result.error);
                    }
                } else {
                    // Fallback for demo
                    allProjects.push(formData);
                    updateDashboards();
                    showToast('Project request submitted successfully!', 'success');
                    document.getElementById('orderForm').reset();
                }
            } catch (error) {
                console.error('Error submitting order:', error);
                showToast('Failed to submit project request', 'error');
            }
        }

        /**
         * Handle ticket submission
         */
        async function handleTicketSubmission(e) {
            e.preventDefault();
            
            const ticketData = {
                id: generateId(),
                type: 'ticket',
                title: document.getElementById('ticketSubject').value,
                description: document.getElementById('ticketDescription').value,
                priority: document.getElementById('ticketPriority').value,
                status: 'open',
                client_name: currentUser,
                client_email: currentUser,
                created_at: new Date().toISOString(),
                assigned_to: 'admin'
            };

            try {
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(ticketData);
                    if (result.isOk) {
                        showToast('Ticket created successfully!', 'success');
                        closeModal('newTicketModal');
                        document.getElementById('ticketForm').reset();
                    } else {
                        throw new Error(result.error);
                    }
                } else {
                    // Fallback for demo
                    allTickets.push(ticketData);
                    showToast('Ticket created successfully!', 'success');
                    closeModal('newTicketModal');
                    document.getElementById('ticketForm').reset();
                }
            } catch (error) {
                console.error('Error creating ticket:', error);
                showToast('Failed to create ticket', 'error');
            }
        }

        /**
         * Handle project submission (admin)
         */
        async function handleProjectSubmission(e) {
            e.preventDefault();
            
            const projectData = {
                id: generateId(),
                type: 'project',
                title: document.getElementById('newProjectTitle').value,
                description: document.getElementById('newProjectDescription').value,
                client_name: document.getElementById('newProjectClient').value,
                client_email: document.getElementById('newProjectEmail').value,
                budget: parseFloat(document.getElementById('newProjectBudget').value),
                deadline: document.getElementById('newProjectDeadline').value,
                priority: document.getElementById('newProjectPriority').value,
                category: document.getElementById('newProjectCategory').value,
                status: 'active',
                progress: 0,
                created_at: new Date().toISOString(),
                billing_status: 'pending',
                amount_paid: 0,
                total_amount: parseFloat(document.getElementById('newProjectBudget').value),
                assigned_to: 'admin'
            };

            try {
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(projectData);
                    if (result.isOk) {
                        showToast('Project created successfully!', 'success');
                        closeModal('newProjectModal');
                        document.getElementById('projectForm').reset();
                    } else {
                        throw new Error(result.error);
                    }
                } else {
                    // Fallback for demo
                    allProjects.push(projectData);
                    updateDashboards();
                    showToast('Project created successfully!', 'success');
                    closeModal('newProjectModal');
                    document.getElementById('projectForm').reset();
                }
            } catch (error) {
                console.error('Error creating project:', error);
                showToast('Failed to create project', 'error');
            }
        }

        /**
         * Update dashboards
         */
        function updateDashboards() {
            updateClientDashboard();
            updateAdminDashboard();
        }

        /**
         * Update client dashboard
         */
        function updateClientDashboard() {
            const clientProjects = allProjects.filter(p => p.client_email === currentUser);
            const activeProjects = clientProjects.filter(p => p.status === 'active').length;
            const totalSpent = clientProjects.reduce((sum, p) => sum + (p.amount_paid || 0), 0);
            
            // Update stats
            document.getElementById('clientActiveProjects').textContent = activeProjects;
            document.getElementById('clientTotalSpent').textContent = `$${totalSpent.toLocaleString()}`;
            document.getElementById('clientOpenTickets').textContent = '2'; // Demo value
            document.getElementById('clientSatisfaction').textContent = '4.9';
            
            // Update projects table
            renderClientProjects(clientProjects);
        }

        /**
         * Update admin dashboard
         */
        function updateAdminDashboard() {
            const totalProjects = allProjects.length;
            const totalRevenue = allProjects.reduce((sum, p) => sum + (p.amount_paid || 0), 0);
            const activeClients = new Set(allProjects.map(p => p.client_email)).size;
            const pendingTasks = allProjects.filter(p => p.status === 'pending').length;
            
            // Update stats
            document.getElementById('adminTotalProjects').textContent = totalProjects;
            document.getElementById('adminRevenue').textContent = `$${totalRevenue.toLocaleString()}`;
            document.getElementById('adminActiveClients').textContent = activeClients;
            document.getElementById('adminPendingTasks').textContent = pendingTasks;
            
            // Update projects table
            renderAdminProjects(allProjects);
        }

        /**
         * Render client projects table
         */
        function renderClientProjects(projects) {
            const tbody = document.getElementById('clientProjectsTable');
            if (!tbody) return;
            
            tbody.innerHTML = projects.map(project => `
                <tr>
                    <td>
                        <strong>${escapeHtml(project.title)}</strong><br>
                        <small style="color: var(--text-secondary);">${escapeHtml(project.description.substring(0, 50))}...</small>
                    </td>
                    <td><span class="status-badge status-${project.status}">${getStatusLabel(project.status)}</span></td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${project.progress}%"></div>
                        </div>
                        <small>${project.progress}%</small>
                    </td>
                    <td>$${project.budget.toLocaleString()}</td>
                    <td>${formatDate(project.deadline)}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewProject('${project.id}')">View</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        /**
         * Render admin projects table
         */
        function renderAdminProjects(projects) {
            const tbody = document.getElementById('adminProjectsTable');
            if (!tbody) return;
            
            tbody.innerHTML = projects.map(project => `
                <tr>
                    <td>
                        <strong>${escapeHtml(project.title)}</strong><br>
                        <small style="color: var(--text-secondary);">${escapeHtml(project.description.substring(0, 50))}...</small>
                    </td>
                    <td>${escapeHtml(project.client_name)}</td>
                    <td><span class="status-badge status-${project.status}">${getStatusLabel(project.status)}</span></td>
                    <td><span class="status-badge priority-${project.priority}">${getPriorityLabel(project.priority)}</span></td>
                    <td>$${project.budget.toLocaleString()}</td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${project.progress}%"></div>
                        </div>
                        <small>${project.progress}%</small>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit" onclick="editProject('${project.id}')">Edit</button>
                            <button class="action-btn delete" onclick="deleteProject('${project.id}')">Delete</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        /**
         * Render projects in portfolio section
         */
        function renderProjects() {
            const projectsGrid = document.getElementById('projectsGrid');
            if (!projectsGrid) return;
            
            const completedProjects = allProjects.filter(p => p.status === 'completed').slice(0, 6);
            
            if (completedProjects.length === 0) {
                projectsGrid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">📁</div>
                        <div class="empty-title">No completed projects yet</div>
                        <div class="empty-description">Completed projects will be showcased here</div>
                    </div>
                `;
                return;
            }
            
            projectsGrid.innerHTML = completedProjects.map(project => `
                <div class="project-card fade-in">
                    <div class="project-image">
                        ${getCategoryIcon(project.category)}
                    </div>
                    <div class="project-content">
                        <h3 class="project-title">${escapeHtml(project.title)}</h3>
                        <p class="project-description">${escapeHtml(project.description)}</p>
                        <div class="project-tech">
                            <span class="tech-tag">${getCategoryLabel(project.category)}</span>
                            <span class="tech-tag">$${project.budget.toLocaleString()}</span>
                        </div>
                        <span class="project-status status-${project.status}">${getStatusLabel(project.status)}</span>
                    </div>
                </div>
            `).join('');
        }

        /**
         * Filter functions
         */
        function filterClientProjects(status) {
            // Implementation for filtering client projects
            console.log('Filtering client projects by:', status);
        }

        function filterAdminProjects(status) {
            // Implementation for filtering admin projects
            console.log('Filtering admin projects by:', status);
        }

        function filterAdminPriority(priority) {
            // Implementation for filtering by priority
            console.log('Filtering by priority:', priority);
        }

        /**
         * Project actions
         */
        function viewProject(projectId) {
            const project = allProjects.find(p => p.id === projectId);
            if (project) {
                showToast(`Viewing project: ${project.title}`, 'info');
            }
        }

        function editProject(projectId) {
            const project = allProjects.find(p => p.id === projectId);
            if (project) {
                showToast(`Editing project: ${project.title}`, 'info');
            }
        }

        async function deleteProject(projectId) {
            const project = allProjects.find(p => p.id === projectId);
            if (!project) return;
            
            try {
                if (window.dataSdk) {
                    const result = await window.dataSdk.delete(project);
                    if (result.isOk) {
                        showToast('Project deleted successfully!', 'success');
                    } else {
                        throw new Error(result.error);
                    }
                } else {
                    // Fallback for demo
                    const index = allProjects.findIndex(p => p.id === projectId);
                    if (index > -1) {
                        allProjects.splice(index, 1);
                        updateDashboards();
                        showToast('Project deleted successfully!', 'success');
                    }
                }
            } catch (error) {
                console.error('Error deleting project:', error);
                showToast('Failed to delete project', 'error');
            }
        }

        /**
         * Generate report
         */
        function generateReport() {
            showToast('Generating comprehensive business report...', 'info');
            
            // Simulate report generation
            setTimeout(() => {
                showToast('Report generated successfully! Check your email.', 'success');
            }, 2000);
        }

        /**
         * Utility functions
         */
        function generateId() {
            return 'id_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function parseBudgetRange(range) {
            const ranges = {
                '500-1000': 750,
                '1000-2500': 1750,
                '2500-5000': 3750,
                '5000-10000': 7500,
                '10000+': 15000
            };
            return ranges[range] || 1000;
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString();
        }

        function getStatusLabel(status) {
            const labels = {
                pending: 'Pending',
                active: 'Active',
                completed: 'Completed',
                cancelled: 'Cancelled'
            };
            return labels[status] || status;
        }

        function getPriorityLabel(priority) {
            const labels = {
                low: 'Low',
                medium: 'Medium',
                high: 'High'
            };
            return labels[priority] || priority;
        }

        function getCategoryLabel(category) {
            const labels = {
                'it-consulting': 'IT Consulting',
                'virtual-assistant': 'Virtual Assistant',
                'customer-care': 'Customer Care',
                'business-analysis': 'Business Analysis',
                'system-integration': 'System Integration',
                'security-audit': 'Security Audit'
            };
            return labels[category] || category;
        }

        function getCategoryIcon(category) {
            const icons = {
                'it-consulting': '💻',
                'virtual-assistant': '🤖',
                'customer-care': '📞',
                'business-analysis': '📊',
                'system-integration': '🔧',
                'security-audit': '🛡️'
            };
            return icons[category] || '💼';
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span>${getToastIcon(type)}</span>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(toast);
            
            // Show toast
            setTimeout(() => toast.classList.add('show'), 100);
            
            // Hide toast
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        function getToastIcon(type) {
            const icons = {
                success: '✅',
                error: '❌',
                warning: '⚠️',
                info: 'ℹ️'
            };
            return icons[type] || 'ℹ️';
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99628ff986225bc1',t:'MTc2MTczOTc0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>